import urllib2

def get_public_ip(request_target):
    grabber = urllib2.build_opener()
    grabber.addheaders = [('User-agent','Mozilla/5.0')]
    try:
        public_ip_address = grabber.open(target_url).read()
    except urllib2.HTTPError, error:
        print("[*] Houve um erro ao tentar recuperar seu IP público :%s") % (error)
    except urllib2.URLError, error:
        print("[*] Houve um erro ao tentar recuperar seu IP público :%s") % (error)
    return public_ip_address
public_ip = "None"
target_url = "http://ip.42.pl/raw"
public_ip = get_public_ip(target_url)

if not "None" in public_ip:
    print("[*] Seu IP público é : %s") % (str(public_ip))
else:
    print("[*] Seu IP público não foi encontrado.")
