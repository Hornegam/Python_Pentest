import sys, os

try:
    import nmap
except:
        print('BORA INSTALAR A DEPENDENCIA nmap?')
        os.system('pip3 install python-nmap')
    
    
if len(sys.argv) != 3:
    sys.exit("POXA SAO DOIS ARGUMENTOS CARAMBA, O PRIMEIRO E O ALVO TIPO IP TALIGADO E O SEGUNDO E A PORTA")

ports = str(sys.argv[2])
ip = str(sys.argv[1])

scanner = nmap.PortScanner()
scanner.scan(ip,ports)

for host in scanner.all_hosts():
    if not scanner[host].hostname():
        print("O IP E : %s e seu hostname nao foi achado.") % (host)
    else:
        print("O IP E : %s e seu hostname e : %s.") % (host,scanner[host].hostname())
